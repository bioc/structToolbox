<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Model objects â€¢ structToolbox</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Model objects">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">structToolbox</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/iterator_example.html">Iterator objects</a>
    </li>
    <li>
      <a href="../articles/model_example.html">Model objects</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Model objects</h1>
                        <h4 class="author">Dr Gavin Rhys Lloyd</h4>
            
            <h4 class="date">25/06/2019</h4>
      
      
      <div class="hidden name"><code>model_example.Rmd</code></div>

    </div>

    
    
<p></p>
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>PCA (Principal Component Analysis) is a commonly applied method for exploring multivariate datasets. We will use the iris dataset as an example, which is included in the package and already prepared as a dataset object.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">D =<span class="st"> </span><span class="kw">iris_dataset</span>()</a>
<a class="sourceLine" id="cb1-2" title="2">D<span class="op">$</span>data</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt;     Sepal.Length Sepal.Width Petal.Length Petal.Width</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt; 1            5.1         3.5          1.4         0.2</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#&gt; 2            4.9         3.0          1.4         0.2</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#&gt; 3            4.7         3.2          1.3         0.2</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#&gt; 4            4.6         3.1          1.5         0.2</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt; 5            5.0         3.6          1.4         0.2</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">#&gt; 6            5.4         3.9          1.7         0.4</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">#&gt; 7            4.6         3.4          1.4         0.3</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">#&gt; 8            5.0         3.4          1.5         0.2</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">#&gt; 9            4.4         2.9          1.4         0.2</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co">#&gt; 10           4.9         3.1          1.5         0.1</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">#&gt; 11           5.4         3.7          1.5         0.2</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="co">#&gt; 12           4.8         3.4          1.6         0.2</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="co">#&gt; 13           4.8         3.0          1.4         0.1</span></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="co">#&gt; 14           4.3         3.0          1.1         0.1</span></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="co">#&gt; 15           5.8         4.0          1.2         0.2</span></a>
<a class="sourceLine" id="cb1-19" title="19"><span class="co">#&gt; 16           5.7         4.4          1.5         0.4</span></a>
<a class="sourceLine" id="cb1-20" title="20"><span class="co">#&gt; 17           5.4         3.9          1.3         0.4</span></a>
<a class="sourceLine" id="cb1-21" title="21"><span class="co">#&gt; 18           5.1         3.5          1.4         0.3</span></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="co">#&gt; 19           5.7         3.8          1.7         0.3</span></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="co">#&gt; 20           5.1         3.8          1.5         0.3</span></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="co">#&gt; 21           5.4         3.4          1.7         0.2</span></a>
<a class="sourceLine" id="cb1-25" title="25"><span class="co">#&gt; 22           5.1         3.7          1.5         0.4</span></a>
<a class="sourceLine" id="cb1-26" title="26"><span class="co">#&gt; 23           4.6         3.6          1.0         0.2</span></a>
<a class="sourceLine" id="cb1-27" title="27"><span class="co">#&gt; 24           5.1         3.3          1.7         0.5</span></a>
<a class="sourceLine" id="cb1-28" title="28"><span class="co">#&gt; 25           4.8         3.4          1.9         0.2</span></a>
<a class="sourceLine" id="cb1-29" title="29"><span class="co">#&gt; 26           5.0         3.0          1.6         0.2</span></a>
<a class="sourceLine" id="cb1-30" title="30"><span class="co">#&gt; 27           5.0         3.4          1.6         0.4</span></a>
<a class="sourceLine" id="cb1-31" title="31"><span class="co">#&gt; 28           5.2         3.5          1.5         0.2</span></a>
<a class="sourceLine" id="cb1-32" title="32"><span class="co">#&gt; 29           5.2         3.4          1.4         0.2</span></a>
<a class="sourceLine" id="cb1-33" title="33"><span class="co">#&gt; 30           4.7         3.2          1.6         0.2</span></a>
<a class="sourceLine" id="cb1-34" title="34"><span class="co">#&gt; 31           4.8         3.1          1.6         0.2</span></a>
<a class="sourceLine" id="cb1-35" title="35"><span class="co">#&gt; 32           5.4         3.4          1.5         0.4</span></a>
<a class="sourceLine" id="cb1-36" title="36"><span class="co">#&gt; 33           5.2         4.1          1.5         0.1</span></a>
<a class="sourceLine" id="cb1-37" title="37"><span class="co">#&gt; 34           5.5         4.2          1.4         0.2</span></a>
<a class="sourceLine" id="cb1-38" title="38"><span class="co">#&gt; 35           4.9         3.1          1.5         0.2</span></a>
<a class="sourceLine" id="cb1-39" title="39"><span class="co">#&gt; 36           5.0         3.2          1.2         0.2</span></a>
<a class="sourceLine" id="cb1-40" title="40"><span class="co">#&gt; 37           5.5         3.5          1.3         0.2</span></a>
<a class="sourceLine" id="cb1-41" title="41"><span class="co">#&gt; 38           4.9         3.6          1.4         0.1</span></a>
<a class="sourceLine" id="cb1-42" title="42"><span class="co">#&gt; 39           4.4         3.0          1.3         0.2</span></a>
<a class="sourceLine" id="cb1-43" title="43"><span class="co">#&gt; 40           5.1         3.4          1.5         0.2</span></a>
<a class="sourceLine" id="cb1-44" title="44"><span class="co">#&gt; 41           5.0         3.5          1.3         0.3</span></a>
<a class="sourceLine" id="cb1-45" title="45"><span class="co">#&gt; 42           4.5         2.3          1.3         0.3</span></a>
<a class="sourceLine" id="cb1-46" title="46"><span class="co">#&gt; 43           4.4         3.2          1.3         0.2</span></a>
<a class="sourceLine" id="cb1-47" title="47"><span class="co">#&gt; 44           5.0         3.5          1.6         0.6</span></a>
<a class="sourceLine" id="cb1-48" title="48"><span class="co">#&gt; 45           5.1         3.8          1.9         0.4</span></a>
<a class="sourceLine" id="cb1-49" title="49"><span class="co">#&gt; 46           4.8         3.0          1.4         0.3</span></a>
<a class="sourceLine" id="cb1-50" title="50"><span class="co">#&gt; 47           5.1         3.8          1.6         0.2</span></a>
<a class="sourceLine" id="cb1-51" title="51"><span class="co">#&gt; 48           4.6         3.2          1.4         0.2</span></a>
<a class="sourceLine" id="cb1-52" title="52"><span class="co">#&gt; 49           5.3         3.7          1.5         0.2</span></a>
<a class="sourceLine" id="cb1-53" title="53"><span class="co">#&gt; 50           5.0         3.3          1.4         0.2</span></a>
<a class="sourceLine" id="cb1-54" title="54"><span class="co">#&gt; 51           7.0         3.2          4.7         1.4</span></a>
<a class="sourceLine" id="cb1-55" title="55"><span class="co">#&gt; 52           6.4         3.2          4.5         1.5</span></a>
<a class="sourceLine" id="cb1-56" title="56"><span class="co">#&gt; 53           6.9         3.1          4.9         1.5</span></a>
<a class="sourceLine" id="cb1-57" title="57"><span class="co">#&gt; 54           5.5         2.3          4.0         1.3</span></a>
<a class="sourceLine" id="cb1-58" title="58"><span class="co">#&gt; 55           6.5         2.8          4.6         1.5</span></a>
<a class="sourceLine" id="cb1-59" title="59"><span class="co">#&gt; 56           5.7         2.8          4.5         1.3</span></a>
<a class="sourceLine" id="cb1-60" title="60"><span class="co">#&gt; 57           6.3         3.3          4.7         1.6</span></a>
<a class="sourceLine" id="cb1-61" title="61"><span class="co">#&gt; 58           4.9         2.4          3.3         1.0</span></a>
<a class="sourceLine" id="cb1-62" title="62"><span class="co">#&gt; 59           6.6         2.9          4.6         1.3</span></a>
<a class="sourceLine" id="cb1-63" title="63"><span class="co">#&gt; 60           5.2         2.7          3.9         1.4</span></a>
<a class="sourceLine" id="cb1-64" title="64"><span class="co">#&gt; 61           5.0         2.0          3.5         1.0</span></a>
<a class="sourceLine" id="cb1-65" title="65"><span class="co">#&gt; 62           5.9         3.0          4.2         1.5</span></a>
<a class="sourceLine" id="cb1-66" title="66"><span class="co">#&gt; 63           6.0         2.2          4.0         1.0</span></a>
<a class="sourceLine" id="cb1-67" title="67"><span class="co">#&gt; 64           6.1         2.9          4.7         1.4</span></a>
<a class="sourceLine" id="cb1-68" title="68"><span class="co">#&gt; 65           5.6         2.9          3.6         1.3</span></a>
<a class="sourceLine" id="cb1-69" title="69"><span class="co">#&gt; 66           6.7         3.1          4.4         1.4</span></a>
<a class="sourceLine" id="cb1-70" title="70"><span class="co">#&gt; 67           5.6         3.0          4.5         1.5</span></a>
<a class="sourceLine" id="cb1-71" title="71"><span class="co">#&gt; 68           5.8         2.7          4.1         1.0</span></a>
<a class="sourceLine" id="cb1-72" title="72"><span class="co">#&gt; 69           6.2         2.2          4.5         1.5</span></a>
<a class="sourceLine" id="cb1-73" title="73"><span class="co">#&gt; 70           5.6         2.5          3.9         1.1</span></a>
<a class="sourceLine" id="cb1-74" title="74"><span class="co">#&gt; 71           5.9         3.2          4.8         1.8</span></a>
<a class="sourceLine" id="cb1-75" title="75"><span class="co">#&gt; 72           6.1         2.8          4.0         1.3</span></a>
<a class="sourceLine" id="cb1-76" title="76"><span class="co">#&gt; 73           6.3         2.5          4.9         1.5</span></a>
<a class="sourceLine" id="cb1-77" title="77"><span class="co">#&gt; 74           6.1         2.8          4.7         1.2</span></a>
<a class="sourceLine" id="cb1-78" title="78"><span class="co">#&gt; 75           6.4         2.9          4.3         1.3</span></a>
<a class="sourceLine" id="cb1-79" title="79"><span class="co">#&gt; 76           6.6         3.0          4.4         1.4</span></a>
<a class="sourceLine" id="cb1-80" title="80"><span class="co">#&gt; 77           6.8         2.8          4.8         1.4</span></a>
<a class="sourceLine" id="cb1-81" title="81"><span class="co">#&gt; 78           6.7         3.0          5.0         1.7</span></a>
<a class="sourceLine" id="cb1-82" title="82"><span class="co">#&gt; 79           6.0         2.9          4.5         1.5</span></a>
<a class="sourceLine" id="cb1-83" title="83"><span class="co">#&gt; 80           5.7         2.6          3.5         1.0</span></a>
<a class="sourceLine" id="cb1-84" title="84"><span class="co">#&gt; 81           5.5         2.4          3.8         1.1</span></a>
<a class="sourceLine" id="cb1-85" title="85"><span class="co">#&gt; 82           5.5         2.4          3.7         1.0</span></a>
<a class="sourceLine" id="cb1-86" title="86"><span class="co">#&gt; 83           5.8         2.7          3.9         1.2</span></a>
<a class="sourceLine" id="cb1-87" title="87"><span class="co">#&gt; 84           6.0         2.7          5.1         1.6</span></a>
<a class="sourceLine" id="cb1-88" title="88"><span class="co">#&gt; 85           5.4         3.0          4.5         1.5</span></a>
<a class="sourceLine" id="cb1-89" title="89"><span class="co">#&gt; 86           6.0         3.4          4.5         1.6</span></a>
<a class="sourceLine" id="cb1-90" title="90"><span class="co">#&gt; 87           6.7         3.1          4.7         1.5</span></a>
<a class="sourceLine" id="cb1-91" title="91"><span class="co">#&gt; 88           6.3         2.3          4.4         1.3</span></a>
<a class="sourceLine" id="cb1-92" title="92"><span class="co">#&gt; 89           5.6         3.0          4.1         1.3</span></a>
<a class="sourceLine" id="cb1-93" title="93"><span class="co">#&gt; 90           5.5         2.5          4.0         1.3</span></a>
<a class="sourceLine" id="cb1-94" title="94"><span class="co">#&gt; 91           5.5         2.6          4.4         1.2</span></a>
<a class="sourceLine" id="cb1-95" title="95"><span class="co">#&gt; 92           6.1         3.0          4.6         1.4</span></a>
<a class="sourceLine" id="cb1-96" title="96"><span class="co">#&gt; 93           5.8         2.6          4.0         1.2</span></a>
<a class="sourceLine" id="cb1-97" title="97"><span class="co">#&gt; 94           5.0         2.3          3.3         1.0</span></a>
<a class="sourceLine" id="cb1-98" title="98"><span class="co">#&gt; 95           5.6         2.7          4.2         1.3</span></a>
<a class="sourceLine" id="cb1-99" title="99"><span class="co">#&gt; 96           5.7         3.0          4.2         1.2</span></a>
<a class="sourceLine" id="cb1-100" title="100"><span class="co">#&gt; 97           5.7         2.9          4.2         1.3</span></a>
<a class="sourceLine" id="cb1-101" title="101"><span class="co">#&gt; 98           6.2         2.9          4.3         1.3</span></a>
<a class="sourceLine" id="cb1-102" title="102"><span class="co">#&gt; 99           5.1         2.5          3.0         1.1</span></a>
<a class="sourceLine" id="cb1-103" title="103"><span class="co">#&gt; 100          5.7         2.8          4.1         1.3</span></a>
<a class="sourceLine" id="cb1-104" title="104"><span class="co">#&gt; 101          6.3         3.3          6.0         2.5</span></a>
<a class="sourceLine" id="cb1-105" title="105"><span class="co">#&gt; 102          5.8         2.7          5.1         1.9</span></a>
<a class="sourceLine" id="cb1-106" title="106"><span class="co">#&gt; 103          7.1         3.0          5.9         2.1</span></a>
<a class="sourceLine" id="cb1-107" title="107"><span class="co">#&gt; 104          6.3         2.9          5.6         1.8</span></a>
<a class="sourceLine" id="cb1-108" title="108"><span class="co">#&gt; 105          6.5         3.0          5.8         2.2</span></a>
<a class="sourceLine" id="cb1-109" title="109"><span class="co">#&gt; 106          7.6         3.0          6.6         2.1</span></a>
<a class="sourceLine" id="cb1-110" title="110"><span class="co">#&gt; 107          4.9         2.5          4.5         1.7</span></a>
<a class="sourceLine" id="cb1-111" title="111"><span class="co">#&gt; 108          7.3         2.9          6.3         1.8</span></a>
<a class="sourceLine" id="cb1-112" title="112"><span class="co">#&gt; 109          6.7         2.5          5.8         1.8</span></a>
<a class="sourceLine" id="cb1-113" title="113"><span class="co">#&gt; 110          7.2         3.6          6.1         2.5</span></a>
<a class="sourceLine" id="cb1-114" title="114"><span class="co">#&gt; 111          6.5         3.2          5.1         2.0</span></a>
<a class="sourceLine" id="cb1-115" title="115"><span class="co">#&gt; 112          6.4         2.7          5.3         1.9</span></a>
<a class="sourceLine" id="cb1-116" title="116"><span class="co">#&gt; 113          6.8         3.0          5.5         2.1</span></a>
<a class="sourceLine" id="cb1-117" title="117"><span class="co">#&gt; 114          5.7         2.5          5.0         2.0</span></a>
<a class="sourceLine" id="cb1-118" title="118"><span class="co">#&gt; 115          5.8         2.8          5.1         2.4</span></a>
<a class="sourceLine" id="cb1-119" title="119"><span class="co">#&gt; 116          6.4         3.2          5.3         2.3</span></a>
<a class="sourceLine" id="cb1-120" title="120"><span class="co">#&gt; 117          6.5         3.0          5.5         1.8</span></a>
<a class="sourceLine" id="cb1-121" title="121"><span class="co">#&gt; 118          7.7         3.8          6.7         2.2</span></a>
<a class="sourceLine" id="cb1-122" title="122"><span class="co">#&gt; 119          7.7         2.6          6.9         2.3</span></a>
<a class="sourceLine" id="cb1-123" title="123"><span class="co">#&gt; 120          6.0         2.2          5.0         1.5</span></a>
<a class="sourceLine" id="cb1-124" title="124"><span class="co">#&gt; 121          6.9         3.2          5.7         2.3</span></a>
<a class="sourceLine" id="cb1-125" title="125"><span class="co">#&gt; 122          5.6         2.8          4.9         2.0</span></a>
<a class="sourceLine" id="cb1-126" title="126"><span class="co">#&gt; 123          7.7         2.8          6.7         2.0</span></a>
<a class="sourceLine" id="cb1-127" title="127"><span class="co">#&gt; 124          6.3         2.7          4.9         1.8</span></a>
<a class="sourceLine" id="cb1-128" title="128"><span class="co">#&gt; 125          6.7         3.3          5.7         2.1</span></a>
<a class="sourceLine" id="cb1-129" title="129"><span class="co">#&gt; 126          7.2         3.2          6.0         1.8</span></a>
<a class="sourceLine" id="cb1-130" title="130"><span class="co">#&gt; 127          6.2         2.8          4.8         1.8</span></a>
<a class="sourceLine" id="cb1-131" title="131"><span class="co">#&gt; 128          6.1         3.0          4.9         1.8</span></a>
<a class="sourceLine" id="cb1-132" title="132"><span class="co">#&gt; 129          6.4         2.8          5.6         2.1</span></a>
<a class="sourceLine" id="cb1-133" title="133"><span class="co">#&gt; 130          7.2         3.0          5.8         1.6</span></a>
<a class="sourceLine" id="cb1-134" title="134"><span class="co">#&gt; 131          7.4         2.8          6.1         1.9</span></a>
<a class="sourceLine" id="cb1-135" title="135"><span class="co">#&gt; 132          7.9         3.8          6.4         2.0</span></a>
<a class="sourceLine" id="cb1-136" title="136"><span class="co">#&gt; 133          6.4         2.8          5.6         2.2</span></a>
<a class="sourceLine" id="cb1-137" title="137"><span class="co">#&gt; 134          6.3         2.8          5.1         1.5</span></a>
<a class="sourceLine" id="cb1-138" title="138"><span class="co">#&gt; 135          6.1         2.6          5.6         1.4</span></a>
<a class="sourceLine" id="cb1-139" title="139"><span class="co">#&gt; 136          7.7         3.0          6.1         2.3</span></a>
<a class="sourceLine" id="cb1-140" title="140"><span class="co">#&gt; 137          6.3         3.4          5.6         2.4</span></a>
<a class="sourceLine" id="cb1-141" title="141"><span class="co">#&gt; 138          6.4         3.1          5.5         1.8</span></a>
<a class="sourceLine" id="cb1-142" title="142"><span class="co">#&gt; 139          6.0         3.0          4.8         1.8</span></a>
<a class="sourceLine" id="cb1-143" title="143"><span class="co">#&gt; 140          6.9         3.1          5.4         2.1</span></a>
<a class="sourceLine" id="cb1-144" title="144"><span class="co">#&gt; 141          6.7         3.1          5.6         2.4</span></a>
<a class="sourceLine" id="cb1-145" title="145"><span class="co">#&gt; 142          6.9         3.1          5.1         2.3</span></a>
<a class="sourceLine" id="cb1-146" title="146"><span class="co">#&gt; 143          5.8         2.7          5.1         1.9</span></a>
<a class="sourceLine" id="cb1-147" title="147"><span class="co">#&gt; 144          6.8         3.2          5.9         2.3</span></a>
<a class="sourceLine" id="cb1-148" title="148"><span class="co">#&gt; 145          6.7         3.3          5.7         2.5</span></a>
<a class="sourceLine" id="cb1-149" title="149"><span class="co">#&gt; 146          6.7         3.0          5.2         2.3</span></a>
<a class="sourceLine" id="cb1-150" title="150"><span class="co">#&gt; 147          6.3         2.5          5.0         1.9</span></a>
<a class="sourceLine" id="cb1-151" title="151"><span class="co">#&gt; 148          6.5         3.0          5.2         2.0</span></a>
<a class="sourceLine" id="cb1-152" title="152"><span class="co">#&gt; 149          6.2         3.4          5.4         2.3</span></a>
<a class="sourceLine" id="cb1-153" title="153"><span class="co">#&gt; 150          5.9         3.0          5.1         1.8</span></a></code></pre></div>
<p></p>
</div>
<div id="pca-model" class="section level1">
<h1 class="hasAnchor">
<a href="#pca-model" class="anchor"></a>PCA model</h1>
<p>Before we apply PCA we first need to create a PCA object. This object contains all the inputs, outputs and methods needed to apply PCA. We can set parameters such as the number of components when the PCA model is created, but we can also use dollar notation to change/view it later.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">P =<span class="st"> </span><span class="kw"><a href="../reference/PCA-class.html">PCA</a></span>(<span class="dt">number_components=</span><span class="dv">15</span>)</a>
<a class="sourceLine" id="cb2-2" title="2">P<span class="op">$</span>number_components=<span class="dv">5</span></a>
<a class="sourceLine" id="cb2-3" title="3">P<span class="op">$</span>number_components</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt; [1] 5</span></a></code></pre></div>
<p>The inputs for a model can be listed using <code>param.ids(object)</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">param.ids</span>(P)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">#&gt; [1] "number_components"</span></a></code></pre></div>
<p></p>
</div>
<div id="model-sequences" class="section level1">
<h1 class="hasAnchor">
<a href="#model-sequences" class="anchor"></a>Model sequences</h1>
<p>Unless you have very good reason not to, it is usally sensible to mean centre the columns of the data before PCA. Using the <code>STRUCT</code> framework we can create a model sequence that will mean centre and then apply PCA to the mean centred data.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">M =<span class="st"> </span><span class="kw"><a href="../reference/mean_centre-class.html">mean_centre</a></span>() <span class="op">+</span><span class="st"> </span><span class="kw"><a href="../reference/PCA-class.html">PCA</a></span>(<span class="dt">number_components =</span> <span class="dv">4</span>)</a></code></pre></div>
<p>In <code>STRUCT</code> mean centring and PCA are both model objects, and therefore joining them creates a model.sequence object. The objects in the sequence can be accessed by indexing, and we can combine this with dollar notation. For example, the PCA object is the second object in our sequence and we can access the number of components like this:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">M[<span class="dv">2</span>]<span class="op">$</span>number_components</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co">#&gt; [1] 4</span></a></code></pre></div>
<p></p>
</div>
<div id="trainingtesting-models" class="section level1">
<h1 class="hasAnchor">
<a href="#trainingtesting-models" class="anchor"></a>Training/testing models</h1>
<p>Model and model.sequence objects need to be trained using a training dataset.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">M =<span class="st"> </span><span class="kw">model.train</span>(M,D)</a></code></pre></div>
<p>Model objects can be used to generate predictions for test datasets. For this example we will just use the training data (sometimes called autoprediction).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">M =<span class="st"> </span><span class="kw">model.predict</span>(M,D)</a></code></pre></div>
<p>The available outputs for an object can be listed and accessed using dollar notation:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">output.ids</span>(M[<span class="dv">2</span>])</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="co">#&gt; [1] "scores"      "loadings"    "eigenvalues" "ssx"         "correlation"</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">#&gt; [6] "that"</span></a>
<a class="sourceLine" id="cb8-4" title="4">M[<span class="dv">2</span>]<span class="op">$</span>scores</a>
<a class="sourceLine" id="cb8-5" title="5"><span class="co">#&gt;              PC1          PC2          PC3           PC4</span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="co">#&gt; 1   -2.684125626 -0.319397247  0.027914828  0.0022624371</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="co">#&gt; 2   -2.714141687  0.177001225  0.210464272  0.0990265503</span></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="co">#&gt; 3   -2.888990569  0.144949426 -0.017900256  0.0199683897</span></a>
<a class="sourceLine" id="cb8-9" title="9"><span class="co">#&gt; 4   -2.745342856  0.318298979 -0.031559374 -0.0755758166</span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="co">#&gt; 5   -2.728716537 -0.326754513 -0.090079241 -0.0612585926</span></a>
<a class="sourceLine" id="cb8-11" title="11"><span class="co">#&gt; 6   -2.280859633 -0.741330449 -0.168677658 -0.0242008576</span></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="co">#&gt; 7   -2.820537751  0.089461385 -0.257892158 -0.0481431065</span></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="co">#&gt; 8   -2.626144973 -0.163384960  0.021879318 -0.0452978706</span></a>
<a class="sourceLine" id="cb8-14" title="14"><span class="co">#&gt; 9   -2.886382732  0.578311754 -0.020759570 -0.0267447358</span></a>
<a class="sourceLine" id="cb8-15" title="15"><span class="co">#&gt; 10  -2.672755798  0.113774246  0.197632725 -0.0562954013</span></a>
<a class="sourceLine" id="cb8-16" title="16"><span class="co">#&gt; 11  -2.506947091 -0.645068899  0.075318009 -0.0150199245</span></a>
<a class="sourceLine" id="cb8-17" title="17"><span class="co">#&gt; 12  -2.612755231 -0.014729939 -0.102150260 -0.1563792078</span></a>
<a class="sourceLine" id="cb8-18" title="18"><span class="co">#&gt; 13  -2.786109266  0.235112000  0.206844430 -0.0078879115</span></a>
<a class="sourceLine" id="cb8-19" title="19"><span class="co">#&gt; 14  -3.223803744  0.511394587 -0.061299672 -0.0216798118</span></a>
<a class="sourceLine" id="cb8-20" title="20"><span class="co">#&gt; 15  -2.644750390 -1.178764636  0.151627524  0.1592097177</span></a>
<a class="sourceLine" id="cb8-21" title="21"><span class="co">#&gt; 16  -2.386039034 -1.338062330 -0.277776903  0.0065515459</span></a>
<a class="sourceLine" id="cb8-22" title="22"><span class="co">#&gt; 17  -2.623527875 -0.810679514 -0.138183228  0.1677347372</span></a>
<a class="sourceLine" id="cb8-23" title="23"><span class="co">#&gt; 18  -2.648296706 -0.311849145 -0.026668316  0.0776281796</span></a>
<a class="sourceLine" id="cb8-24" title="24"><span class="co">#&gt; 19  -2.199820324 -0.872839039  0.120305523  0.0270518681</span></a>
<a class="sourceLine" id="cb8-25" title="25"><span class="co">#&gt; 20  -2.587986400 -0.513560309 -0.213665172 -0.0662726502</span></a>
<a class="sourceLine" id="cb8-26" title="26"><span class="co">#&gt; 21  -2.310256215 -0.391345936  0.239444043 -0.0150707908</span></a>
<a class="sourceLine" id="cb8-27" title="27"><span class="co">#&gt; 22  -2.543705229 -0.432996063 -0.208457232  0.0410654027</span></a>
<a class="sourceLine" id="cb8-28" title="28"><span class="co">#&gt; 23  -3.215939416 -0.133468070 -0.292396751  0.0044821251</span></a>
<a class="sourceLine" id="cb8-29" title="29"><span class="co">#&gt; 24  -2.302733182 -0.098708855 -0.039123259  0.1483525893</span></a>
<a class="sourceLine" id="cb8-30" title="30"><span class="co">#&gt; 25  -2.355754049  0.037281860 -0.125021083 -0.3003309039</span></a>
<a class="sourceLine" id="cb8-31" title="31"><span class="co">#&gt; 26  -2.506668907  0.146016880  0.253420042  0.0346074722</span></a>
<a class="sourceLine" id="cb8-32" title="32"><span class="co">#&gt; 27  -2.468820073 -0.130951489 -0.094910576  0.0574497158</span></a>
<a class="sourceLine" id="cb8-33" title="33"><span class="co">#&gt; 28  -2.562319906 -0.367718857  0.078494205 -0.0141727423</span></a>
<a class="sourceLine" id="cb8-34" title="34"><span class="co">#&gt; 29  -2.639534715 -0.312039980  0.145908896  0.0657834667</span></a>
<a class="sourceLine" id="cb8-35" title="35"><span class="co">#&gt; 30  -2.631989387  0.196961225 -0.040771079 -0.1239833064</span></a>
<a class="sourceLine" id="cb8-36" title="36"><span class="co">#&gt; 31  -2.587398477  0.204318491  0.077222989 -0.0604622767</span></a>
<a class="sourceLine" id="cb8-37" title="37"><span class="co">#&gt; 32  -2.409932497 -0.410924264  0.145524972  0.2316284917</span></a>
<a class="sourceLine" id="cb8-38" title="38"><span class="co">#&gt; 33  -2.648862334 -0.813363820 -0.225669150 -0.2813723471</span></a>
<a class="sourceLine" id="cb8-39" title="39"><span class="co">#&gt; 34  -2.598736749 -1.093145759 -0.157810813 -0.0953488583</span></a>
<a class="sourceLine" id="cb8-40" title="40"><span class="co">#&gt; 35  -2.636926878  0.121322348  0.143049582  0.0190703413</span></a>
<a class="sourceLine" id="cb8-41" title="41"><span class="co">#&gt; 36  -2.866241652 -0.069364472  0.164332307  0.1625984463</span></a>
<a class="sourceLine" id="cb8-42" title="42"><span class="co">#&gt; 37  -2.625238050 -0.599370021  0.268350376  0.1764412129</span></a>
<a class="sourceLine" id="cb8-43" title="43"><span class="co">#&gt; 38  -2.800684115 -0.268643738 -0.093699082 -0.1681730544</span></a>
<a class="sourceLine" id="cb8-44" title="44"><span class="co">#&gt; 39  -2.980502044  0.487958344 -0.072927046 -0.0107331474</span></a>
<a class="sourceLine" id="cb8-45" title="45"><span class="co">#&gt; 40  -2.590006314 -0.229043837  0.080082303 -0.0137491513</span></a>
<a class="sourceLine" id="cb8-46" title="46"><span class="co">#&gt; 41  -2.770102426 -0.263527534 -0.077247693  0.0940633590</span></a>
<a class="sourceLine" id="cb8-47" title="47"><span class="co">#&gt; 42  -2.849368705  0.940960574  0.349230377  0.3199874870</span></a>
<a class="sourceLine" id="cb8-48" title="48"><span class="co">#&gt; 43  -2.997406547  0.341926057 -0.192509212 -0.0746777682</span></a>
<a class="sourceLine" id="cb8-49" title="49"><span class="co">#&gt; 44  -2.405614485 -0.188871429 -0.263867946  0.1762088905</span></a>
<a class="sourceLine" id="cb8-50" title="50"><span class="co">#&gt; 45  -2.209489238 -0.436663142 -0.298742746 -0.1828425025</span></a>
<a class="sourceLine" id="cb8-51" title="51"><span class="co">#&gt; 46  -2.714451427  0.250208204  0.097678144  0.1428435736</span></a>
<a class="sourceLine" id="cb8-52" title="52"><span class="co">#&gt; 47  -2.538148259 -0.503771144 -0.166705637 -0.1896222914</span></a>
<a class="sourceLine" id="cb8-53" title="53"><span class="co">#&gt; 48  -2.839462168  0.227945569 -0.083726849 -0.0595642283</span></a>
<a class="sourceLine" id="cb8-54" title="54"><span class="co">#&gt; 49  -2.543085750 -0.579410022  0.017115024 -0.0465686438</span></a>
<a class="sourceLine" id="cb8-55" title="55"><span class="co">#&gt; 50  -2.703359782 -0.107706082  0.089294008  0.0346583385</span></a>
<a class="sourceLine" id="cb8-56" title="56"><span class="co">#&gt; 51   1.284825689 -0.685160470  0.406568025  0.0185252879</span></a>
<a class="sourceLine" id="cb8-57" title="57"><span class="co">#&gt; 52   0.932488532 -0.318333638  0.018014187  0.0005665121</span></a>
<a class="sourceLine" id="cb8-58" title="58"><span class="co">#&gt; 53   1.464302322 -0.504262815  0.338325765 -0.0016531759</span></a>
<a class="sourceLine" id="cb8-59" title="59"><span class="co">#&gt; 54   0.183317720  0.827959012  0.179591392  0.0935668402</span></a>
<a class="sourceLine" id="cb8-60" title="60"><span class="co">#&gt; 55   1.088103258 -0.074590675  0.307757896  0.1120205742</span></a>
<a class="sourceLine" id="cb8-61" title="61"><span class="co">#&gt; 56   0.641669084  0.418246872 -0.041076091 -0.2431167665</span></a>
<a class="sourceLine" id="cb8-62" title="62"><span class="co">#&gt; 57   1.095060663 -0.283468270 -0.169810240 -0.0835565724</span></a>
<a class="sourceLine" id="cb8-63" title="63"><span class="co">#&gt; 58  -0.749122670  1.004890961 -0.012302919 -0.0179077226</span></a>
<a class="sourceLine" id="cb8-64" title="64"><span class="co">#&gt; 59   1.044131826 -0.228361900  0.415336085 -0.0391345020</span></a>
<a class="sourceLine" id="cb8-65" title="65"><span class="co">#&gt; 60  -0.008745404  0.723081905 -0.281141431 -0.0056189179</span></a>
<a class="sourceLine" id="cb8-66" title="66"><span class="co">#&gt; 61  -0.507840884  1.265971191  0.269817183  0.0455624408</span></a>
<a class="sourceLine" id="cb8-67" title="67"><span class="co">#&gt; 62   0.511698557  0.103981235 -0.130547750  0.0507192325</span></a>
<a class="sourceLine" id="cb8-68" title="68"><span class="co">#&gt; 63   0.264976508  0.550036464  0.694146830  0.0571855195</span></a>
<a class="sourceLine" id="cb8-69" title="69"><span class="co">#&gt; 64   0.984934510  0.124817854  0.062114408 -0.1694962546</span></a>
<a class="sourceLine" id="cb8-70" title="70"><span class="co">#&gt; 65  -0.173925372  0.254854209 -0.090457691  0.1252172921</span></a>
<a class="sourceLine" id="cb8-71" title="71"><span class="co">#&gt; 66   0.927860781 -0.467179494  0.314620976  0.0998031365</span></a>
<a class="sourceLine" id="cb8-72" title="72"><span class="co">#&gt; 67   0.660283762  0.352969666 -0.328027528 -0.1878786215</span></a>
<a class="sourceLine" id="cb8-73" title="73"><span class="co">#&gt; 68   0.236104993  0.333610767  0.271161837 -0.2137573696</span></a>
<a class="sourceLine" id="cb8-74" title="74"><span class="co">#&gt; 69   0.944733728  0.543145551  0.499519046  0.2571921772</span></a>
<a class="sourceLine" id="cb8-75" title="75"><span class="co">#&gt; 70   0.045226976  0.583834377  0.235002105 -0.0415766476</span></a>
<a class="sourceLine" id="cb8-76" title="76"><span class="co">#&gt; 71   1.116283177  0.084616852 -0.459620991 -0.0750315529</span></a>
<a class="sourceLine" id="cb8-77" title="77"><span class="co">#&gt; 72   0.357888418  0.068925032  0.229853888  0.1229976041</span></a>
<a class="sourceLine" id="cb8-78" title="78"><span class="co">#&gt; 73   1.298183875  0.327787308  0.347854352  0.0008883706</span></a>
<a class="sourceLine" id="cb8-79" title="79"><span class="co">#&gt; 74   0.921728922  0.182737794  0.231071778 -0.2882554293</span></a>
<a class="sourceLine" id="cb8-80" title="80"><span class="co">#&gt; 75   0.714853326 -0.149055944  0.321800937  0.0417197556</span></a>
<a class="sourceLine" id="cb8-81" title="81"><span class="co">#&gt; 76   0.900174373 -0.328504474  0.316209074  0.1002267276</span></a>
<a class="sourceLine" id="cb8-82" title="82"><span class="co">#&gt; 77   1.332024437 -0.244440876  0.521702780  0.0353331921</span></a>
<a class="sourceLine" id="cb8-83" title="83"><span class="co">#&gt; 78   1.557802155 -0.267495447  0.164920984  0.0699692823</span></a>
<a class="sourceLine" id="cb8-84" title="84"><span class="co">#&gt; 79   0.813290650  0.163350301 -0.035424505 -0.0297114340</span></a>
<a class="sourceLine" id="cb8-85" title="85"><span class="co">#&gt; 80  -0.305583778  0.368262190  0.318491581  0.0745696136</span></a>
<a class="sourceLine" id="cb8-86" title="86"><span class="co">#&gt; 81  -0.068126492  0.705172132  0.244213810  0.0068308422</span></a>
<a class="sourceLine" id="cb8-87" title="87"><span class="co">#&gt; 82  -0.189622472  0.680286764  0.306420561 -0.0205510016</span></a>
<a class="sourceLine" id="cb8-88" title="88"><span class="co">#&gt; 83   0.136428712  0.314032438  0.177242766  0.0329419128</span></a>
<a class="sourceLine" id="cb8-89" title="89"><span class="co">#&gt; 84   1.380026436  0.420954287 -0.016167128 -0.1783044629</span></a>
<a class="sourceLine" id="cb8-90" title="90"><span class="co">#&gt; 85   0.588006443  0.484287420 -0.444433499 -0.2509760601</span></a>
<a class="sourceLine" id="cb8-91" title="91"><span class="co">#&gt; 86   0.806858313 -0.194182315 -0.388963063 -0.1142072433</span></a>
<a class="sourceLine" id="cb8-92" title="92"><span class="co">#&gt; 87   1.220690882 -0.407619594  0.237167010  0.0312171829</span></a>
<a class="sourceLine" id="cb8-93" title="93"><span class="co">#&gt; 88   0.815095236  0.372037060  0.614720843  0.1540209998</span></a>
<a class="sourceLine" id="cb8-94" title="94"><span class="co">#&gt; 89   0.245957680  0.268524397 -0.188366812 -0.1466745117</span></a>
<a class="sourceLine" id="cb8-95" title="95"><span class="co">#&gt; 90   0.166413217  0.681926725  0.060009226  0.0296222195</span></a>
<a class="sourceLine" id="cb8-96" title="96"><span class="co">#&gt; 91   0.464800288  0.670711545  0.024306856 -0.2696514282</span></a>
<a class="sourceLine" id="cb8-97" title="97"><span class="co">#&gt; 92   0.890815198  0.034464444  0.009946933 -0.1534846663</span></a>
<a class="sourceLine" id="cb8-98" title="98"><span class="co">#&gt; 93   0.230548024  0.404385848  0.229410241  0.0169303245</span></a>
<a class="sourceLine" id="cb8-99" title="99"><span class="co">#&gt; 94  -0.704531759  1.012248228  0.105691149  0.0456133071</span></a>
<a class="sourceLine" id="cb8-100" title="100"><span class="co">#&gt; 95   0.356981495  0.504910093 -0.016617170 -0.0987414793</span></a>
<a class="sourceLine" id="cb8-101" title="101"><span class="co">#&gt; 96   0.331934480  0.212654684 -0.083204291 -0.2384754337</span></a>
<a class="sourceLine" id="cb8-102" title="102"><span class="co">#&gt; 97   0.376215651  0.293218929 -0.077996351 -0.1311373808</span></a>
<a class="sourceLine" id="cb8-103" title="103"><span class="co">#&gt; 98   0.642576008 -0.017738190  0.205394967 -0.0213776830</span></a>
<a class="sourceLine" id="cb8-104" title="104"><span class="co">#&gt; 99  -0.906469865  0.756093367  0.012599648  0.2325348443</span></a>
<a class="sourceLine" id="cb8-105" title="105"><span class="co">#&gt; 100  0.299000842  0.348897806 -0.010581660 -0.0511811717</span></a>
<a class="sourceLine" id="cb8-106" title="106"><span class="co">#&gt; 101  2.531192728  0.009849109 -0.760165427 -0.0290555728</span></a>
<a class="sourceLine" id="cb8-107" title="107"><span class="co">#&gt; 102  1.415235877  0.574916348 -0.296322527 -0.0153046739</span></a>
<a class="sourceLine" id="cb8-108" title="108"><span class="co">#&gt; 103  2.616676016 -0.343903151  0.110787883  0.0657720412</span></a>
<a class="sourceLine" id="cb8-109" title="109"><span class="co">#&gt; 104  1.971531053  0.179727904 -0.108424662 -0.2367909342</span></a>
<a class="sourceLine" id="cb8-110" title="110"><span class="co">#&gt; 105  2.350005920  0.040260947 -0.285389563 -0.0001706333</span></a>
<a class="sourceLine" id="cb8-111" title="111"><span class="co">#&gt; 106  3.397038736 -0.550836673  0.348437556 -0.1123716532</span></a>
<a class="sourceLine" id="cb8-112" title="112"><span class="co">#&gt; 107  0.521232244  1.192758727 -0.545659296 -0.0981266196</span></a>
<a class="sourceLine" id="cb8-113" title="113"><span class="co">#&gt; 108  2.932587069 -0.355500003  0.420239936 -0.2571910322</span></a>
<a class="sourceLine" id="cb8-114" title="114"><span class="co">#&gt; 109  2.321228817  0.243831502  0.348304395 -0.0786746130</span></a>
<a class="sourceLine" id="cb8-115" title="115"><span class="co">#&gt; 110  2.916750967 -0.782791949 -0.423335418  0.1109820710</span></a>
<a class="sourceLine" id="cb8-116" title="116"><span class="co">#&gt; 111  1.661774154 -0.242228408 -0.242440190  0.1210405518</span></a>
<a class="sourceLine" id="cb8-117" title="117"><span class="co">#&gt; 112  1.803401953  0.215637617  0.037648168  0.0780198444</span></a>
<a class="sourceLine" id="cb8-118" title="118"><span class="co">#&gt; 113  2.165591796 -0.216275585 -0.033326642  0.1630614782</span></a>
<a class="sourceLine" id="cb8-119" title="119"><span class="co">#&gt; 114  1.346163579  0.776818347 -0.281902882  0.1404408688</span></a>
<a class="sourceLine" id="cb8-120" title="120"><span class="co">#&gt; 115  1.585928224  0.539640714 -0.629029326  0.3295517284</span></a>
<a class="sourceLine" id="cb8-121" title="121"><span class="co">#&gt; 116  1.904456375 -0.119250692 -0.479639820  0.2196212627</span></a>
<a class="sourceLine" id="cb8-122" title="122"><span class="co">#&gt; 117  1.949689059 -0.041943260 -0.044186168 -0.1576819073</span></a>
<a class="sourceLine" id="cb8-123" title="123"><span class="co">#&gt; 118  3.487055364 -1.175739330 -0.133894874 -0.3092195730</span></a>
<a class="sourceLine" id="cb8-124" title="124"><span class="co">#&gt; 119  3.795645422 -0.257322973  0.513767764  0.0538460965</span></a>
<a class="sourceLine" id="cb8-125" title="125"><span class="co">#&gt; 120  1.300791713  0.761149636  0.344995038 -0.0458247549</span></a>
<a class="sourceLine" id="cb8-126" title="126"><span class="co">#&gt; 121  2.427817913 -0.378196013 -0.219119324  0.1854292644</span></a>
<a class="sourceLine" id="cb8-127" title="127"><span class="co">#&gt; 122  1.199001105  0.606091528 -0.511855509  0.0609591171</span></a>
<a class="sourceLine" id="cb8-128" title="128"><span class="co">#&gt; 123  3.499920039 -0.460674099  0.573182243 -0.1402279544</span></a>
<a class="sourceLine" id="cb8-129" title="129"><span class="co">#&gt; 124  1.388766132  0.204399327  0.064522757  0.1630409774</span></a>
<a class="sourceLine" id="cb8-130" title="130"><span class="co">#&gt; 125  2.275430504 -0.334990606 -0.286150091 -0.0603719696</span></a>
<a class="sourceLine" id="cb8-131" title="131"><span class="co">#&gt; 126  2.614090474 -0.560901355  0.205534524 -0.2407049865</span></a>
<a class="sourceLine" id="cb8-132" title="132"><span class="co">#&gt; 127  1.258508161  0.179704795 -0.045847704  0.1475038465</span></a>
<a class="sourceLine" id="cb8-133" title="133"><span class="co">#&gt; 128  1.291132059  0.116668651 -0.231256463  0.0040266077</span></a>
<a class="sourceLine" id="cb8-134" title="134"><span class="co">#&gt; 129  2.123608723  0.209729477 -0.154180024  0.0528273230</span></a>
<a class="sourceLine" id="cb8-135" title="135"><span class="co">#&gt; 130  2.388003016 -0.464639805  0.449530192 -0.2315240534</span></a>
<a class="sourceLine" id="cb8-136" title="136"><span class="co">#&gt; 131  2.841672778 -0.375269167  0.498898076 -0.0223364626</span></a>
<a class="sourceLine" id="cb8-137" title="137"><span class="co">#&gt; 132  3.230673661 -1.374165087  0.114548205 -0.2529019234</span></a>
<a class="sourceLine" id="cb8-138" title="138"><span class="co">#&gt; 133  2.159437642  0.217277579 -0.208763167  0.1281930656</span></a>
<a class="sourceLine" id="cb8-139" title="139"><span class="co">#&gt; 134  1.444161242  0.143413410  0.153233888 -0.1909963579</span></a>
<a class="sourceLine" id="cb8-140" title="140"><span class="co">#&gt; 135  1.781294810  0.499901681  0.172875189 -0.5054344118</span></a>
<a class="sourceLine" id="cb8-141" title="141"><span class="co">#&gt; 136  3.076499932 -0.688085678  0.335592292  0.3098280446</span></a>
<a class="sourceLine" id="cb8-142" title="142"><span class="co">#&gt; 137  2.144243314 -0.140064201 -0.734878937  0.0555419691</span></a>
<a class="sourceLine" id="cb8-143" title="143"><span class="co">#&gt; 138  1.905098149 -0.049300526 -0.162180236 -0.2212029369</span></a>
<a class="sourceLine" id="cb8-144" title="144"><span class="co">#&gt; 139  1.169326339  0.164990262 -0.281835840  0.0204617872</span></a>
<a class="sourceLine" id="cb8-145" title="145"><span class="co">#&gt; 140  2.107611143 -0.372287872 -0.027291132  0.2106217858</span></a>
<a class="sourceLine" id="cb8-146" title="146"><span class="co">#&gt; 141  2.314154705 -0.183651279 -0.322693747  0.2776537774</span></a>
<a class="sourceLine" id="cb8-147" title="147"><span class="co">#&gt; 142  1.922267801 -0.409203467 -0.113586596  0.5053049669</span></a>
<a class="sourceLine" id="cb8-148" title="148"><span class="co">#&gt; 143  1.415235877  0.574916348 -0.296322527 -0.0153046739</span></a>
<a class="sourceLine" id="cb8-149" title="149"><span class="co">#&gt; 144  2.563013375 -0.277862603 -0.292569525  0.0579127477</span></a>
<a class="sourceLine" id="cb8-150" title="150"><span class="co">#&gt; 145  2.418746183 -0.304798198 -0.504482664  0.2410910005</span></a>
<a class="sourceLine" id="cb8-151" title="151"><span class="co">#&gt; 146  1.944109795 -0.187532303 -0.177825091  0.4261959400</span></a>
<a class="sourceLine" id="cb8-152" title="152"><span class="co">#&gt; 147  1.527166615  0.375316983  0.121898172  0.2543674420</span></a>
<a class="sourceLine" id="cb8-153" title="153"><span class="co">#&gt; 148  1.764345717 -0.078858855 -0.130481631  0.1370012739</span></a>
<a class="sourceLine" id="cb8-154" title="154"><span class="co">#&gt; 149  1.900941614 -0.116627959 -0.723251563  0.0445953047</span></a>
<a class="sourceLine" id="cb8-155" title="155"><span class="co">#&gt; 150  1.390188862  0.282660938 -0.362909648 -0.1550386282</span></a></code></pre></div>
<p></p>
</div>
<div id="model-charts" class="section level1">
<h1 class="hasAnchor">
<a href="#model-charts" class="anchor"></a>Model charts</h1>
<p>The struct framework includes charts. Charts associated with a model object can be listed.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">chart.names</span>(M[<span class="dv">2</span>])</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co">#&gt; [1] "PCA.dstat"            "PCA.scree"            "pca_biplot_plot"     </span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="co">#&gt; [4] "pca_correlation_plot" "pca_loadings_plot"    "pca_scores_plot"</span></a></code></pre></div>
<p>Like model objects, chart objects need to be created before they can be used. Here we will plot the PCA scores plot for our mean centred PCA model.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">C =<span class="st"> </span><span class="kw"><a href="../reference/pca_scores_plot-class.html">pca_scores_plot</a></span>(<span class="dt">groups=</span>D<span class="op">$</span>sample_meta<span class="op">$</span>Species,<span class="dt">factor_name=</span><span class="st">'Species'</span>) <span class="co"># colour by Species</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="kw">chart.plot</span>(C,M[<span class="dv">2</span>])</a></code></pre></div>
<p><img src="model_example_files/figure-html/unnamed-chunk-10-1.png" width="700" style="display: block; margin: auto;"></p>
<p>If we makes changes to our chart object, we must call <code>chart.plot</code> again.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">C<span class="op">$</span>groups =<span class="st"> </span>D<span class="op">$</span>data<span class="op">$</span>Petal.Width</a>
<a class="sourceLine" id="cb11-2" title="2">C<span class="op">$</span>factor_name=<span class="st">'Petal.Width'</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="kw">chart.plot</span>(C,M[<span class="dv">2</span>])</a></code></pre></div>
<p><img src="model_example_files/figure-html/unnamed-chunk-11-1.png" width="700" style="display: block; margin: auto;"></p>
<p>The <code>chart.plot</code> method can return e.g.Â a ggplot object so that you can easily combine it with other plots using the gridExtra package for example.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">C1 =<span class="st"> </span><span class="kw"><a href="../reference/pca_scores_plot-class.html">pca_scores_plot</a></span>(<span class="dt">groups=</span>D<span class="op">$</span>sample_meta<span class="op">$</span>Species,<span class="dt">factor_name=</span><span class="st">'Species'</span>) <span class="co"># colour by Species</span></a>
<a class="sourceLine" id="cb12-2" title="2">g1 =<span class="st"> </span><span class="kw">chart.plot</span>(C1,M[<span class="dv">2</span>])</a>
<a class="sourceLine" id="cb12-3" title="3">C2 =<span class="st"> </span><span class="kw"><a href="../reference/PCA.scree-class.html">PCA.scree</a></span>()</a>
<a class="sourceLine" id="cb12-4" title="4">g2 =<span class="st"> </span><span class="kw">chart.plot</span>(C2,M[<span class="dv">2</span>])</a>
<a class="sourceLine" id="cb12-5" title="5"><span class="kw">grid.arrange</span>(<span class="dt">grobs=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(g1,g2),<span class="dt">nrow=</span><span class="dv">1</span>)</a></code></pre></div>
<p><img src="model_example_files/figure-html/unnamed-chunk-12-1.png" width="960" style="display: block; margin: auto;"></p>
</div>
<div id="stato-integration" class="section level1">
<h1 class="hasAnchor">
<a href="#stato-integration" class="anchor"></a>STATO Integration</h1>
<p>Some model objects are also STATO objects. STATO is a general purpose statistics ontology (<a href="http://stato-ontology.org/" class="uri">http://stato-ontology.org/</a>). In the <code>STRUCT</code> framework we use it to provide standarded definitions for objects. The PCA model object is also a STATO object.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">is</span>(<span class="kw"><a href="../reference/PCA-class.html">PCA</a></span>(),<span class="st">'stato'</span>)</a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
<p>We can access the STATO ontology using some methods specific to stato objects.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="co"># this is the stato id for PCA</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">stato.id</span>(P)</a>
<a class="sourceLine" id="cb14-3" title="3"><span class="co">#&gt; [1] "OBI:0200051"</span></a>
<a class="sourceLine" id="cb14-4" title="4"></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="co"># this is the stato name</span></a>
<a class="sourceLine" id="cb14-6" title="6"><span class="kw">stato.name</span>(P)</a>
<a class="sourceLine" id="cb14-7" title="7"><span class="co">#&gt; [1] "principal components analysis dimensionality reduction"</span></a>
<a class="sourceLine" id="cb14-8" title="8"></a>
<a class="sourceLine" id="cb14-9" title="9"><span class="co"># this is the stato definition</span></a>
<a class="sourceLine" id="cb14-10" title="10"><span class="kw">stato.definition</span>(P)</a>
<a class="sourceLine" id="cb14-11" title="11"><span class="co">#&gt; [1] "A principal components analysis dimensionality reduction is a dimensionality reduction achieved by applying principal components analysis and by keeping low-order principal components and excluding higher-order ones. "</span></a></code></pre></div>
<p>This information is more succinctly displayed using <code>stato.summary</code>. This method also scans over all inputs and outputs for those with STATO definitions and displays those as well. For PCA the number of components is present, but none of the outputs are STATO objects and therefore no definition is provided.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">stato.summary</span>(P)</a>
<a class="sourceLine" id="cb15-2" title="2"><span class="co">#&gt; OBI:0200051 </span></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="co">#&gt; principal components analysis dimensionality reduction </span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="co">#&gt; A principal components analysis dimensionality reduction is a dimensionality reduction achieved by applying principal components analysis and by keeping low-order principal components and excluding higher-order ones.  </span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="co">#&gt; Inputs:</span></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="co">#&gt; STATO:0000555 </span></a>
<a class="sourceLine" id="cb15-8" title="8"><span class="co">#&gt; number of predictive components </span></a>
<a class="sourceLine" id="cb15-9" title="9"><span class="co">#&gt; number of predictive components is a count used as input to the principle component analysis (PCA)  </span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-11" title="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-12" title="12"><span class="co">#&gt; Outputs:</span></a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#pca-model">PCA model</a></li>
      <li><a href="#model-sequences">Model sequences</a></li>
      <li><a href="#trainingtesting-models">Training/testing models</a></li>
      <li><a href="#model-charts">Model charts</a></li>
      <li><a href="#stato-integration">STATO Integration</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Gavin Rhys Lloyd.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
